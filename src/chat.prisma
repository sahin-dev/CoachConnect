
model ChatRoom {
    id   String  @id  @default(auto())  @map("_id")  @db.ObjectId
    userId  String   @db.ObjectId

    users  User[]

    createdAt    DateTime  @default(auto())
    updatedAt    DateTime  @updatedAt
}

model Chat {

  id      String  @id  @default(auto()) @map("_id") @db.ObjectId
  message String
  files  String[]
  hasFile  Boolean  @default(false)
  sender_id  String  @db.ObjectId
  receiver_id  String @db.ObjectId
  is_read  Boolean  @default(false)

  sender   User  @relation(references: [id], fields: [sender_id], name: "sent_chats")
  receiver  User @relation(references: [id], fields: [receiver_id], name: "received_chats")

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@map("chats")

}